<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PocketMind - AI Expense Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --color-primary: #4f46e5;
      --color-primary-light: #818cf8;
      --color-accent: #22c55e;
      --font-family: 'Inter', sans-serif;
      --bg: #f7f9fc;
      --surface: white;
      --text-primary: #222;
      --text-secondary: #555;
      --border-color: #e5e7eb;
      --shadow-color: rgba(0,0,0,0.05);
      --dark-bg: #111827;
      --dark-surface: #1f2937;
      --dark-text-primary: #f9fafb;
      --dark-text-secondary: #9ca3af;
      --dark-border-color: #374151;
      --dark-shadow-color: rgba(0,0,0,0.3);
    }
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: var(--font-family); }
    html { scroll-behavior: smooth; }
    body {
      background-color: var(--bg);
      color: var(--text-primary);
      line-height: 1.6;
      overflow-x: hidden;
      transition: background-color 0.3s, color 0.3s;
    }
    body.dark-theme {
      --bg: var(--dark-bg);
      --surface: var(--dark-surface);
      --text-primary: var(--dark-text-primary);
      --text-secondary: var(--dark-text-secondary);
      --border-color: var(--dark-border-color);
      --shadow-color: var(--dark-shadow-color);
    }
    .cta-button {
      display: inline-block;
      margin-top: 1.5rem;
      background-color: var(--color-accent);
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      transition: background-color 0.3s;
      border: none;
      cursor: pointer;
    }
    .cta-button:hover { background-color: #16a34a; }
    .navbar {
      background-color: var(--surface);
      padding: 1rem 1.5rem;
      box-shadow: 0 2px 4px var(--shadow-color);
      position: sticky; top: 0; z-index: 1000;
      transition: background-color 0.3s;
    }
    .nav-container {
      max-width: 1200px;
      margin: auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .nav-logo { font-size: 1.25rem; font-weight: 700; color: var(--color-primary); text-decoration: none; }
    .nav-actions { display: flex; align-items: center; gap: 1rem; }
    .btn-secondary {
      background: none; border: 1px solid var(--border-color);
      color: var(--text-primary); padding: 0.5rem 1rem;
      border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s;
    }
    .btn-secondary:hover { background-color: var(--bg); }
    .btn-login {
      background-color: var(--color-primary);
      color: white; padding: 0.5rem 1rem;
      border: 1px solid var(--color-primary);
      border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s;
    }
    .btn-login:hover { background-color: #4338ca; }
    .btn-theme {
      background: none; border: 1px solid var(--border-color);
      width: 40px; height: 40px; border-radius: 50%;
      cursor: pointer; font-size: 1.2rem;
      display: flex; justify-content: center; align-items: center;
      color: var(--text-primary);
    }
    .user-menu-btn {
        background-color: var(--surface);
        color: var(--text-primary);
        border: 1px solid var(--border-color);
        padding: 0.5rem 1rem;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
    }
    .user-menu {
        position: relative;
    }
    .user-dropdown {
        display: none;
        position: absolute;
        top: 120%;
        right: 0;
        background-color: var(--surface);
        border-radius: 8px;
        box-shadow: 0 4px 8px var(--shadow-color);
        padding: 0.5rem;
        width: 180px;
        z-index: 1001;
    }
    .user-dropdown button {
        display: block;
        width: 100%;
        text-align: left;
        padding: 0.75rem 1rem;
        background: none;
        border: none;
        color: var(--text-primary);
        text-decoration: none;
        border-radius: 4px;
        cursor: pointer;
    }
    .user-dropdown button:hover {
        background-color: var(--bg);
    }
    header {
      background-color: var(--color-primary);
      color: white;
      padding: 3rem 1.5rem;
      text-align: center;
    }
    header h1 { font-size: 2.5rem; }
    header p { font-size: 1.2rem; margin-top: 0.5rem; }
    .features {
      padding: 3rem 2rem;
      max-width: 900px;
      margin: auto;
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
    }
    @media (min-width: 640px) {
      .features { grid-template-columns: repeat(2, 1fr); }
    }
    .feature-link { text-decoration: none; color: inherit; }
    .feature-card {
      background-color: var(--surface);
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 8px var(--shadow-color);
      transition: all 0.3s ease;
      height: 100%;
    }
    .feature-card:hover { transform: translateY(-5px); }
    .feature-card h3 { color: var(--color-primary); margin-bottom: 0.75rem; }
    body.dark-theme .feature-card h3 { color: var(--color-primary-light); }
    .modal-overlay {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.6);
      display: flex; justify-content: center; align-items: center;
      z-index: 2000; opacity: 1; transition: opacity 0.3s ease;
    }
    .modal-overlay.hidden { opacity: 0; pointer-events: none; }
    .modal-content {
      background: var(--surface);
      padding: 2rem; border-radius: 12px;
      width: 90%; max-width: 500px; position: relative;
      max-height: 80vh;
      overflow-y: auto;
    }
    .modal-close {
      position: absolute; top: 10px; right: 15px;
      font-size: 1.5rem; background: none; border: none;
      cursor: pointer; color: var(--text-secondary);
    }
    .modal-content h3 { text-align: center; margin-bottom: 0.5rem; }
    .modal-content input {
      display: block; width: 100%;
      padding: 0.75rem;
      border: 1px solid var(--border-color);
      border-radius: 8px; background-color: var(--bg);
      color: var(--text-primary);
    }
    .password-wrapper {
        position: relative;
        margin-bottom: 1rem;
    }
    .toggle-password {
        position: absolute;
        right: 1rem;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        user-select: none;
    }
    .modal-content .cta-button { width: 100%; margin-top: 0.5rem; }
    #signup-form { display: none; }
    .form-toggle-link {
        display: block; text-align: center;
        margin-top: 1.5rem; font-size: 0.9em;
        color: var(--color-primary); cursor: pointer;
    }
    .message-area {
        text-align: center; margin-bottom: 1rem;
        min-height: 1.2em; font-size: 0.9em; font-weight: 500;
    }
    .error-message { color: #ef4444; }
    .success-message { color: var(--color-accent); }
    .instructions-list { list-style: none; margin-top: 1.5rem; text-align: left; }
    .instructions-list li { margin-bottom: 1.25rem; line-height: 1.5; }
    .instructions-list strong { color: var(--color-primary); }
    .instructions-list p { font-size: 0.9rem; color: var(--text-secondary); margin-top: 0.25rem; }
    .intro-text { text-align: center; color: var(--text-secondary); }
    .footer {
      text-align: center; padding: 2rem;
      background-color: var(--surface); border-top: 1px solid var(--border-color);
      color: var(--text-secondary); font-size: 0.9rem;
    }
    .footer-links { margin-bottom: 1rem; }
    .footer-links a { color: var(--text-secondary); margin: 0 0.75rem; text-decoration: none; }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="nav-container">
      <a href="/" class="nav-logo">PocketMind</a>
      <div class="nav-actions">
        <button id="theme-toggle" class="btn-theme">🌙</button>
        <button id="how-to-use-btn" class="btn-secondary">How to Use</button>
        <button id="login-register-btn" class="btn-login">Login / Register</button>
        <div class="user-menu" id="user-menu" style="display: none;">
            <button id="user-menu-btn" class="user-menu-btn"></button>
            <div class="user-dropdown" id="user-dropdown">
                <button id="logout-btn">Sign Out</button>
            </div>
        </div>
      </div>
    </div>
  </nav>

  <header>
    <h1>Take Control of Your Finances</h1>
    <p>Your AI-powered Personal Finance Assistant</p>
    <a href="#features" class="cta-button">Explore Features</a>
  </header>

  <main>
    <section class="features" id="features">
      <a href="/dashboard" class="feature-link">
        <div class="feature-card"><h3>📊 Dashboard</h3><p>See a visual summary of your income and expenses.</p></div>
      </a>
      <a href="/insights" class="feature-link">
        <div class="feature-card"><h3>💡 AI Insights</h3><p>Chat with an AI assistant for financial advice and planning.</p></div>
      </a>
      <a href="/planner" class="feature-link">
        <div class="feature-card"><h3>📅 Payments Reminder</h3><p>Add your upcoming bills and get timely reminders.</p></div>
      </a>
      <a href="/analysis" class="feature-link">
        <div class="feature-card"><h3>🧠 Expense Analyzer</h3><p>Classify your spending habits and get saving tips from AI.</p></div>
      </a>
    </section>
  </main>

  <div id="auth-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <button class="modal-close">&times;</button>
      <form id="login-form">
        <h3>Welcome Back!</h3>
        <div id="login-message" class="message-area"></div>
        <input type="email" name="email" placeholder="Email" required />
        <div class="password-wrapper">
          <input type="password" name="password" placeholder="Password" required />
          <span class="toggle-password">👁</span>
        </div>
        <button type="submit" class="cta-button">Login</button>
        <span class="form-toggle-link" id="show-signup-link">Don't have an account? Sign up</span>
      </form>
      <form id="signup-form">
        <h3>Create Your Account</h3>
        <div id="signup-message" class="message-area"></div>
        <input type="email" name="email" placeholder="Email" required />
        <div class="password-wrapper">
          <input type="password" name="password" placeholder="Password" required />
          <span class="toggle-password">🙈</span>
        </div>
        <button type="submit" class="cta-button">Sign Up</button>
        <span class="form-toggle-link" id="show-login-link">Already have an account? Log in</span>
      </form>
    </div>
  </div>
  
  <div id="how-to-use-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <button class="modal-close">&times;</button>
      <h3>How to Use PocketMind</h3>
      <p class="intro-text">Welcome! PocketMind is your all-in-one finance hub. Follow these simple steps to get started:</p>
      <ul class="instructions-list">
        <li><strong>1. Start with your 📊 Dashboard</strong><p>This is your main page. The first thing you should do is use the form on the right to set your monthly income. Then, use the form below it to add all your daily expenses.</p></li>
        <li><strong>2. Add Bill Reminders on the 📅 Payments Reminder page</strong><p>Go here to add all your upcoming bills, like rent or phone bills. The app will remind you when they are due so you never miss a payment.</p></li>
        <li><strong>3. Analyze Purchases with the 🧠 Expense Analyzer</strong><p>Curious about a purchase? Enter it here, and the AI will tell you if it was a "Need" or a "Want" and give you a smart tip on how to save money on similar items.</p></li>
         <li><strong>4. Get Smart Advice from 💡 AI Insights</strong><p>This is your personal financial chatbot. Ask it anything from "Help me plan a budget trip to Manali" to "What are good investment options for beginners in India?".</p></li>
      </ul>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-links">
        <a href="#">About Us</a>
        <a href="#">Contact</a>
        <a href="#">Privacy Policy</a>
    </div>
    <div class="footer-copy">&copy; 2025 PocketMind. All rights reserved.</div>
  </footer>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDV2xqyXydGF2BpplCUSWvrjP0zAOjCXVo",
      authDomain: "pocketmind-4701e.firebaseapp.com",
      projectId: "pocketmind-4701e",
      storageBucket: "pocketmind-4701e.appspot.com",
      messagingSenderId: "1075115902682",
      appId: "1:1075115902682:web:825c371fcf1ede508a87e3"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    document.addEventListener('DOMContentLoaded', () => {
      const loginRegisterBtn = document.getElementById('login-register-btn');
      const howToUseBtn = document.getElementById('how-to-use-btn');
      const authModal = document.getElementById('auth-modal');
      const howToUseModal = document.getElementById('how-to-use-modal');
      const closeButtons = document.querySelectorAll('.modal-close');
      const loginForm = document.getElementById('login-form');
      const signupForm = document.getElementById('signup-form');
      const showSignupLink = document.getElementById('show-signup-link');
      const showLoginLink = document.getElementById('show-login-link');
      const themeToggleBtn = document.getElementById('theme-toggle');
      const loginMessage = document.getElementById('login-message');
      const signupMessage = document.getElementById('signup-message');
      const userMenu = document.getElementById('user-menu');
      const userMenuBtn = document.getElementById('user-menu-btn');
      const userDropdown = document.getElementById('user-dropdown');
      const logoutBtn = document.getElementById('logout-btn');
      const togglePasswordIcons = document.querySelectorAll('.toggle-password');

      if (themeToggleBtn) {
        const currentTheme = localStorage.getItem('theme') || 'light';
        if (currentTheme === 'dark') {
          document.body.classList.add('dark-theme');
          themeToggleBtn.textContent = '☀';
        } else {
          themeToggleBtn.textContent = '🌙';
        }
        themeToggleBtn.addEventListener('click', () => {
          document.body.classList.toggle('dark-theme');
          let theme = document.body.classList.contains('dark-theme') ? 'dark' : 'light';
          themeToggleBtn.textContent = theme === 'dark' ? '☀' : '🌙';
          localStorage.setItem('theme', theme);
        });
      }

      const openModal = (modal) => modal.classList.remove('hidden');
      const closeModal = (modal) => modal.classList.add('hidden');

      loginRegisterBtn.addEventListener('click', () => openModal(authModal));
      howToUseBtn.addEventListener('click', () => openModal(howToUseModal));

      closeButtons.forEach(button => {
        button.addEventListener('click', () => {
          closeModal(authModal);
          closeModal(howToUseModal);
        });
      });
      
      showSignupLink.addEventListener('click', () => {
        loginForm.style.display = 'none';
        signupForm.style.display = 'block';
      });
      showLoginLink.addEventListener('click', () => {
        signupForm.style.display = 'none';
        loginForm.style.display = 'block';
      });
      
      auth.onAuthStateChanged(user => {
          if (user) {
              loginRegisterBtn.style.display = 'none';
              userMenu.style.display = 'block';
              userMenuBtn.textContent = user.displayName || user.email.split('@')[0];
          } else {
              loginRegisterBtn.style.display = 'block';
              userMenu.style.display = 'none';
          }
      });
      
      userMenuBtn.addEventListener('click', () => {
          const isHidden = userDropdown.style.display === 'none' || userDropdown.style.display === '';
          userDropdown.style.display = isHidden ? 'block' : 'none';
      });

      logoutBtn.addEventListener('click', () => {
          auth.signOut();
      });

      togglePasswordIcons.forEach(icon => {
        icon.addEventListener('click', () => {
            const passwordInput = icon.previousElementSibling;
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            icon.textContent = type === 'password' ? '👁' : '🙈';
        });
      });

      signupForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = e.target.email.value;
        const password = e.target.password.value;
        
        auth.createUserWithEmailAndPassword(email, password)
          .then((userCredential) => {
            signupMessage.textContent = 'Signup successful!';
            signupMessage.className = 'message-area success-message';
            setTimeout(() => {
              closeModal(authModal);
              window.location.reload();
            }, 1500);
          })
          .catch((error) => {
            signupMessage.textContent = error.message;
            signupMessage.className = 'message-area error-message';
          });
      });

      loginForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const email = loginForm.email.value;
        const password = loginForm.password.value;

        auth.signInWithEmailAndPassword(email, password)
          .then((userCredential) => {
            loginMessage.textContent = "Login successful!";
            loginMessage.className = "message-area success-message";
            setTimeout(() => {
              closeModal(authModal);
              window.location.reload();
            }, 1000);
          })
          .catch((error) => {
            loginMessage.textContent = error.message;
            loginMessage.className = "message-area error-message";
          });
      });
    });
  </script>
</body>
</html>